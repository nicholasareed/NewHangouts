/* (c) Aaron Gustafson (@AaronGustafson). MIT License. http://github.com/easy-designs/jquery.easy-modifiable-table.js */
(function(c){var b="modifiable",a=c('<div class="modification-tools"><span>Modify Table</span><ul/></div>'),d=c("<li><label></label></li>"),e=c('<input type="checkbox"/>');c.fn.easyModifiableTable=function(){var f=c(this);f.each(function(){var h=c(this),g=h.data(b),k=h.data(b+"-start-with"),j=h.find("thead th"),i=a.clone(),l=[];if(g){g=g.split(",")}if(k){k=k.split(",")}c.each(g,function(m,n){var o="column-"+m;d.clone().appendTo(i.find("ul")).find("label").attr("for",o).text(" "+n).prepend(e.clone().attr({id:o,checked:true}).val(n))});i.on("change","input",function(){var s=c(this),t=s.val(),u=s.is(":checked"),n=h.find("th").filter(function(){return c(this).text()==t}),p=n.prevAll(),r=[],q=n.index(),o=n.attr("colspan"),m=c([]);if(p.length){p.each(function(){var v=c(this).attr("colspan");if(v){q+=(v-1)}})}if(o){while(o--){r.push(q+o)}}else{r.push(q)}h.find("tr").children().each(function(){var z=c(this),y=z.prevAll(),w=z.index(),x=z.attr("colspan"),v=r.slice(0),A;if(y.length){y.each(function(){var B=c(this).attr("colspan");if(B){w+=(B-1)}})}A=c.inArray(w,v);if(A>-1){m=m.add(z);v.splice(A,(x?x:1))}});m[(u?"show":"hide")]()}).find("input").each(function(){var m=c(this);if(c.inArray(m.val(),k)==-1){m.attr("checked",false).trigger("change")}});i.prependTo(h.parent().siblings(".table-tools"));h.closest(".TabInterface-enabled").css("min-height",i.outerHeight()+i.find("ul").outerHeight()+10)});return this}})(jQuery);